services:
  whatsupdocker:
    image: getwud/wud
    container_name: wud
    environment:
      - TZ=America/Toronto
      # - WUD_AUTH_BASIC_ADMIN_USER=${WUD_AUTH_BASIC_ADMIN_USER}
      # - WUD_AUTH_BASIC_ADMIN_HASH=${WUD_AUTH_BASIC_ADMIN_HASH}
      - WUD_AUTH_OIDC_AUTHENTIK_CLIENTID=${WUD_AUTH_OIDC_AUTHENTIK_CLIENTID}
      - WUD_AUTH_OIDC_AUTHENTIK_CLIENTSECRET=${WUD_AUTH_OIDC_AUTHENTIK_CLIENTSECRET}
      - WUD_AUTH_OIDC_AUTHENTIK_DISCOVERY=${WUD_AUTH_OIDC_AUTHENTIK_DISCOVERY}
      - WUD_AUTH_OIDC_AUTHENTIK_REDIRECT=${WUD_AUTH_OIDC_AUTHENTIK_REDIRECT}
      - WUD_REGISTRY_LSCR_PRIVATE_USERNAME=${WUD_REGISTRY_LSCR_PRIVATE_USERNAME}
      - WUD_REGISTRY_LSCR_PRIVATE_TOKEN=${WUD_REGISTRY_LSCR_PRIVATE_TOKEN}
      - WUD_REGISTRY_HUB_PUBLIC_LOGIN=${WUD_REGISTRY_HUB_PUBLIC_LOGIN}
      - WUD_REGISTRY_HUB_PUBLIC_PASSWORD=${WUD_REGISTRY_HUB_PUBLIC_PASSWORD}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - 3002:3000
    restart: unless-stopped